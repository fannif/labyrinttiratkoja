## Viikkoraportti 3

Aikaa käytin projektiin suunnitelemiseen ja tekemiseen tällä viikolla noin 12 tuntia.

Tällä viikolla korvasin joitain käyttämiäni Javan tietorakenteita itsetehdyillä rakenteilla. Toteutin lisäksi yhden uuden labyrintin generointialgoritmin ja yhden ratkaisualgoritmin. Sitten toteutin uusille luomilleni luokille javadocit ja testiluokat ja niihin oleellisimmat testit. Tein myös käyttöliittymään tarvittavat muutokset. Lisäsin generointi- ja ratkaisualgoritmeihin suoritusajan tarkkailun.

Tein myös asioita koodin ulkopuolella. Lisäsin README-tiedostoon ohjeet Jacoco- ja Checkstyle-raporttien generoimiseksi. Lisäksi huomasin, että alunperin suunnitelemani toteutettavat ratkaisualgoritmit eivät ehkä muodostaneetkaan kovin hyvää kokonaisuutta. Toteutettuani lyhyimmät polut -algoritmin tajusin nimittäin, että lyhin polku -algoritmista tulisi sen kanssa lähes identtinen. Näin ollen päätin muuttaa suunnitelmaa niin, että toteutankin lyhyin polku -algoritmin sijasta jonkin muun ratkaisualgoritmin. Niinpä käytin aikaa asian ja algoritmien tutkimiseen. Muutin suunnitelmaa niin, että nyt ajatuksena on, että seuraava toteutettava ratkaisualgoritmi olisi ketjualgoritmi (Chain algorithm). Päivitin sitten määrittelydokumentin vastaamaan tätä.

Koodiin toteutin siis tällä viikolla uusia luokkia ja niiden testejä. Ensimmäisenä korjasin kaikki koodissa käyttämäni Arrays.fill- ja clone-komennot manuaalisiksi taulukon läpikäynneiksi ja täyttämisiksi. Sitten koodasin omat toteutukseni algoritmeihin tarvitsemalleni joukolle (minulla PairSet) ja jonolle (minulla PairQueue).

Algoritmeista toteutin tällä viikolla rekursiivisen jakoalgoritmin ja lyhyimpien polkujen algorimin. Tein siis niille luokat ja tarvittavat metodit. Rekursiivisen jakoalgoritmin toteutin sokkelon generoimista varten. Siihen minulla meni melko kauan aikaa, koska luomani sokkelomallin takia minun piti pohtia tarkasti luotujen seinien sijoitusta. Minulla myös jäi huolimattomuuden takia aluksi koodiin pätkä, joka noin kerran viidestä ajokerrasta jäi ikuiseen silmukkaan. Minulla kesti jonkin aikaa löytää kyseinen virhe. Olin kuitenkin onnellinen, kun en kohdannut StackOverflow-erroreita, koska niitä pelkäsin, kun lähdin suunnittelemaan koodia.

Lyhyimpien polkujen algorimtiin minulla ei mennyt yhtä kauaa aikaa kuin rekursiiviseen jakoalgoritmiin, sillä siinä ei tarvinnut käyttää rekursiota ja koska siinä pääsi hyödyntämään leveyshakua, joka oli minulle jo ennestään tutumpi. Touteutinkin siihen leveyshauen sekä päinvastaiseen suuntaan etenevän leveyshaun tyylisen, mutta valikoivamman algoritmin. Sekään ei kuitenkaan aluksi toiminut ihan halutulla tavalla, joten tähänkin algoritmiin meni jonkin verran aikaa. Tätä algoritmia varten minun täytyi myös tehdä oma toteutukseni jonosta.

Samalla ja sen jälkeen kun olin tehnyt luokat, suunnittelin niille testejä ja toteutin niitä. Testejä tuli tehtyä melko paljon, joten niihin meni myös melko paljon aikaa. Niiden avulla sain myös huomattua yhden melko oleellisen virheen vastaluomani PairSet-luokan contains()-metodissa, mikä oli hyvä, niin sain sen sitten korjailtua.

Koodasin tällä viikolla myös lisäyksiä käyttöliittymään. Nyt käyttöliittymässä voi valita, haluaako generoida labyrintin kummalla kahdesta toteutetusta generointialgoritmista. Käyttäliittymässä on myös napit molemmille ratkaisualgoritmeille, joten niistäkin voi valita ja vertailla. Lisäsin lisäksi käyttöliittymään ajan, joka on mennyt milläkin kerralla generointi- tai ratkaisualgoritmin ajamiseen.

Kaiken kaikkiaan sanoisin, että ohjelma on edennyt tällä viikolla hyvin. Päätavoitteenani tälle viikolle oli saada toteutettua uusi generointilgoritmi ja ratkaisualgoritmi ja niiden käyttömahdollisuudet, ja nämä sainkin kaikki tehtyä. Sain myös vaihdettua tietorakenteita itsetoteuttamiini, ja lisäilin ja parantelin testiluokkia niin, että sain testikattavuuden yli 90 prosenttiin. Taivoitteena oli tällä viikolla myös lisätä algoritmien suoritusaikoja näkyville, ja sain sen alustavasti toteutettua.

Sanoisin, että tällä opin erityisest ymmärtämään paremmin rekursiota. Rekursio on ollut minulla aina vähän hankalaa, ja olen aina sitä tehdessäni törmännyt StackOverflow-erroreihin. Tällä viikolla rekursiivista jakoalgoritmia koodatessani koen tajunneeni paremmin, miten rekursio kuuluu toteuttaa, ja uskallan nyt ehkä jatkossakin hyödyntää rekursiota enemmän. Opin myös lisää leveyshaun käytännönsoveltamisesta kaikkien lyhyimpien reittien etsimiseksi. Huomasin myös viikonaikana, että kykyni käsitellä kehittelemääni sokkelopohjaa parani. Olen nimittäin tottunut toteuttamaan tällaisia reittialgoritmeja ennemmin verkkoihin, joten tässä tuli jatkettua taulukoiden käsittelyn opettelemista.

Tällä viikolla vaikeuksia tuotti uuden korvaavan ratkaisualgoritmivaihtoehdon etsiminen. Tutkin vielä ensiviikolla lisää, onkohan tuo löytämäni ketjualgoritmi hyvä vaihtoehto. Vaikeuksia tuli myös vähän siinä, että sain rekursiivisen jakoalgoritmin toimimaan, koska kaksiulotteisten taulukoiden hahmottaminen on vielä vähän vaikeaa. Niinpä minulla menivät vähän x- ja y-akselit ja indeksointi sekaisin. Lisäksi nykyinen toteutus algoritmien ajankäytön tarkkailuun ei varmaankaan ole kovin hyvä. Aika olisi ehkä parempi mitata mikrosekunneissa millisekuntien sijaan. Epäselväksi minulla jäi Javan Randomin käyttö. Siispä kysymys: Saako koodissa käyttää Javan omaa Random-luokkaa? Kun mietin, että se saattaisi olla vaikea toteuttaa itse. Toinen kysymys: Ensi viikolla aikataulussa lukee, että aloitetaan suorituskykytestaus. Tarkoittaako se siis tässä tapauksessa sitä, että tutkin algoritmien suoritusnopeutuksia? Pitääkö minun tehdä algoritmeistani tehokkaampia, vai onko ok vertailun takia, että on myös hitaampia algoritmeja?

Seuraavalla viikolla minulla olisi tavoitteena toteuttaa jälleen yksi uusi generointialgoritmi ja uusi ratkaisualgoritmi. Todennäkösesti nämä tulevat olemaan Kruskalin algoritmi ja ketjualgoritmi. Mikäli toteutan Kruskalin algoritmin, niin sitten minun täytää ensi viikolla varmaan toteuttaa sitä varte  myös Union Find. Lisäksi teen ensiviikolla käyttöliittymään tarvittavat muutokset uusien ominaisuuksien käyttöön käyttöliittymästä. Teen myös lisää testiluokkia ja testejä. Olisi myös kiva päästä toteuttamaan enemmän aloritmien vertailua käyttöliittymään. Tulen myös tekemään tutkimusta kahteen uuteen algoritmiin liittyen, ja aloitan toteutus- ja testausdokumentaaioiden kirjoittamisen.
